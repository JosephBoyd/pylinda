env = Environment(CCFLAGS="-g -Wall -Werror", CPPPATH=["#src/", "#bindings/cpp", "/usr/include/libxml2"], LIBPATH="#.")

Export("env")

objs, interpreter = SConscript("src/SConscript")
cpp = SConscript("bindings/SConscript")
print cpp

lib = env.SharedLibrary("minimal", objs)
lib = env.SharedLibrary("minimal++", cpp)
Export("lib")

env.Program("minimal", interpreter, LIBS=["minimal", "fl", "readline", "xml2"])

SConscript("examples/SConscript")