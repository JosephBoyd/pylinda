env = Environment(CCFLAGS="-g -Wall -Werror", CPPPATH=["#src/", "#bindings/cpp", "/usr/include/libxml2"], LIBPATH="#.")

Export("env")

objs, interpreter, nolinda = SConscript("src/SConscript")
cpp = SConscript("bindings/SConscript")

lib = env.SharedLibrary("minimal", objs)
lib = env.SharedLibrary("minimal++", cpp)
nolindalib = env.SharedLibrary("minimal_nolinda", nolinda)
Export("lib")

libs = ["minimal", "minimal_nolinda", "fl", "readline", "xml2"]
Export("libs")

env.Program("minimal", interpreter, LIBS=libs)

SConscript("examples/SConscript")
